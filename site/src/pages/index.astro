---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Header from '../components/Header.astro';
import SearchBar from '../components/SearchBar.astro';
import ColumnContainer from '../components/ColumnContainer.astro';
import { loadEntries } from '../lib/load-data';

const entries = loadEntries();
const entriesJson = JSON.stringify(entries);
---
<Layout title="CNY vs LNY">
  <Navbar />
  <Header />
  <SearchBar />
  <ColumnContainer />

  <section class="max-w-3xl mx-auto px-4 py-12 text-center">
    <h2 class="font-serif text-2xl font-bold mb-4">How to Contribute</h2>
    <p class="text-text-muted mb-4">Know an organization's terminology that isn't listed? Help us grow the dataset! All you need is a link or screenshot.</p>
    <p class="text-text-muted mb-6">Submit the organization name, the term they use, and a link or image as evidence. We'll take care of the rest.</p>
    <div class="flex items-center justify-center gap-4 flex-wrap">
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSe6g-ypSQqQ-IS0WSBCBihXEFVS0LOCPtuEeSxpF69X0ERz_A/viewform" target="_blank" rel="noopener noreferrer" class="inline-block px-5 py-2.5 bg-accent text-text-primary font-medium rounded hover:bg-accent-light transition-colors duration-200">
        Submit via Google Form &rarr;
      </a>
      <a href="https://github.com/zhuygln/cnyvslny/issues/5" target="_blank" rel="noopener noreferrer" class="inline-block px-5 py-2.5 border border-accent text-accent font-medium rounded hover:bg-accent hover:text-text-primary transition-colors duration-200">
        Submit via GitHub &rarr;
      </a>
    </div>
    <div class="mt-8 border-t border-gray-700 pt-6">
      <p class="text-text-muted mb-2">微信用户也可以扫码提交：</p>
      <img src="/wechat.png" alt="WeChat QR Code" class="mx-auto w-48 h-48 mb-3" />
      <p class="text-text-muted text-sm">扫描二维码添加微信，发送<strong>组织名称</strong>、<strong>使用的称呼</strong>以及<strong>链接或截图</strong>即可。</p>
      <a href="https://wj.qq.com/s2/25775810/b60a/" target="_blank" rel="noopener noreferrer" class="inline-block mt-3 px-5 py-2.5 border border-accent text-accent font-medium rounded hover:bg-accent hover:text-text-primary transition-colors duration-200">
        通过微信问卷提交 &rarr;
      </a>
    </div>
    <p class="text-text-muted text-sm mt-6 italic">Thanks for your contribution!</p>
  </section>

  <script define:vars={{ entriesJson }}>
    window.__CNYVSLNY_DATA__ = JSON.parse(entriesJson);
  </script>
  <script src="../scripts/app.ts"></script>
</Layout>
